### API Tests - Pre-Alertas para Administradores
### Este archivo funciona con la extensión REST Client para VS Code/Cursor
### Instala la extensión: https://marketplace.visualstudio.com/items?itemName=humao.rest-client

@baseUrl = http://localhost
@apiVersion = v1

### Variables de autenticación
@email = admin@admin.com
@password = super1

### 1. Login - Obtener token
POST {{baseUrl}}/api/{{apiVersion}}/login
Content-Type: application/json

{
  "email": "{{email}}",
  "password": "{{password}}"
}

### Guardar el token manualmente después del login
@token = tu_token_aqui

### 2. Obtener perfil del usuario (verificar token)
GET {{baseUrl}}/api/{{apiVersion}}/profile
Authorization: Bearer {{token}}

### 3. Obtener todas las pre-alertas (admin)
GET {{baseUrl}}/api/{{apiVersion}}/admin/pre-alerts
Authorization: Bearer {{token}}

### 4. Obtener pre-alertas con filtro de status
GET {{baseUrl}}/api/{{apiVersion}}/admin/pre-alerts?status=pendiente
Authorization: Bearer {{token}}

### 5. Obtener pre-alertas con paginación
GET {{baseUrl}}/api/{{apiVersion}}/admin/pre-alerts?per_page=5
Authorization: Bearer {{token}}

### 6. Obtener pre-alertas con filtro de tienda
GET {{baseUrl}}/api/{{apiVersion}}/admin/pre-alerts?store_id=1
Authorization: Bearer {{token}}

### 7. Obtener pre-alertas con filtro de fechas
GET {{baseUrl}}/api/{{apiVersion}}/admin/pre-alerts?from=2025-01-01&to=2025-12-31
Authorization: Bearer {{token}}

### 8. Obtener pre-alertas con múltiples filtros
GET {{baseUrl}}/api/{{apiVersion}}/admin/pre-alerts?status=pendiente&store_id=1&per_page=10
Authorization: Bearer {{token}}

### 9. Login con super admin
POST {{baseUrl}}/api/{{apiVersion}}/login
Content-Type: application/json

{
  "email": "superadmin@test.com",
  "password": "password"
}

### 10. Login con manager
POST {{baseUrl}}/api/{{apiVersion}}/login
Content-Type: application/json

{
  "email": "manager1@test.com",
  "password": "password"
}

